<html>
<head>
    <!-- this is part of the package downloaded from GitHub tgz package under dist folder -->
    <script src="resources/js/chart/chart.umd.js"></script>
</head>

<!-- the canvas has to be defined BEFORE the script -->
<canvas id="theBarChart" style="width:100%;max-width:700px"></canvas>
<canvas id="theLineChart" style="width:100%;max-width:700px"></canvas>
<canvas id="theBarChartUpdate" style="width:100%;max-width:700px"></canvas>

<script>
    var xValues = ["Italy", "France", "Spain", "USA", "Argentina"];
    var yValues = [55, 49, 44, 24, 15];
    var barColors = ["red", "green","blue","orange","brown"];

    new Chart("theBarChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        label: "The Bar Value",
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'Chart.js Bar Chart'
          }
        }
    },
    });
</script>

<script>
    var xValues = [];
    var yValues = [];
    generateData("x * x + 2 * x + 7", 0, 10, 0.5);

    new Chart("theLineChart", {
      type: "line",
      data: {
        labels: xValues,
        datasets: [{
          label: "The Line Value",
          fill: false,
          pointRadius: 1,
          borderColor: "rgba(255,0,0,0.5)",
          data: yValues
        }]
      },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Chart.js Line Chart'
                }
            }
        },
    });

    function generateData(value, i1, i2, step = 1) {
      for (let x = i1; x <= i2; x += step) {
        yValues.push(eval(value));
        xValues.push(x);
      }
    }
</script>

<script>
    var xValues = ["Italy", "France", "Spain"];
    var yValues = [55, 49, 44];
    var barColors = ["red", "green","blue"];

    var theChart = new Chart("theBarChartUpdate", {
        type: "bar",
        data: {
          labels: xValues,
          datasets: [{
            label: "The Dynamic Update Bar",
            backgroundColor: barColors,
            data: yValues
          }]
        },
        options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'Chart.js Dynamic Bar Chart'
              }
            }
        },
    });

    setInterval(function(){
        let updatedData = Array(3).fill().map(getRandomValue);
        theChart.data.datasets[0].data = updatedData;
        theChart.update();
    }, 2000);

    const getRandomValue = () => {
        return Math.floor(Math.random() * 100)
    }

</script>

</html>